for t in range(int(input())):
    a,b,c,d=map(int,input().split())
    if d<=c:
        print((a*d)+(min(a,b)*(c-d)))
    else:
        print(a*c)
